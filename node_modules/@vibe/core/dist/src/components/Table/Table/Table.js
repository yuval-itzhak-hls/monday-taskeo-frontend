import{slicedToArray as e,defineProperty as t}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import r,{forwardRef as o,useRef as s,useState as a,useCallback as l,useMemo as n}from"react";import i from"classnames";import{withStaticProps as m}from"../../../types/withStaticProps.js";import"../../../utils/colors-vars-map.js";import{getTableRowLayoutStyles as u}from"./tableHelpers.js";import{getTestId as c}from"../../../tests/testIds.js";import{ComponentDefaultTestId as f}from"../../../tests/constants.js";import{RowSizes as d,RowHeights as p}from"./TableConsts.js";import b from"./Table.module.scss.js";import{TableProvider as v}from"../context/TableContext/TableContext.js";import{TableRowMenuProvider as j}from"../context/TableRowMenuContext/TableRowMenuContext.js";import R from"../../../hooks/useMergeRef.js";var S=m(o((function(o,m){var d=o.id,S=o.className,T=o["data-testid"],w=o.columns,x=o.errorState,y=o.emptyState,z=o.dataState,g=o.style,h=o.children,C=o.size,M=void 0===C?"medium":C,E=o.withoutBorder,H=s(null),A=R(m,H),B=a(!1),I=e(B,2),O=I[0],P=I[1],k=a(null),L=e(k,2),N=L[0],V=L[1],_=l((function(){P(!1),V(null)}),[]),q=a(!1),D=e(q,2),F=D[0],G=D[1],J=l((function(){G(!0)}),[]),K=a(!1),Q=e(K,2),U=Q[0],W=Q[1],X=l((function(e){if(_(),!F){var t=e.target.scrollLeft>0;W((function(e){return e!==t?t:e}))}}),[_,F]),Y=u(w),Z=Object.assign({"--table-grid-template-columns":Y.gridTemplateColumns,"--table-row-size":"".concat(p[M],"px")},g),$=n((function(){return{columns:w,dataState:z,emptyState:y,errorState:x,size:M,tableRootRef:H,isVirtualized:F,markTableAsVirtualized:J,isScrolled:U,setIsScrolled:function(e){return W(e)}}}),[w,z,y,x,F,J,U,M]),ee=n((function(){return{tableRootRef:H,hoveredRowRef:N,isMenuOpen:O,resetHoveredRow:_,setHoveredRowRef:function(e){return V(e)},setIsMenuOpen:function(e){return P(e)}}}),[N,O,_,V]);return r.createElement(v,{value:$},r.createElement(j,{value:ee},r.createElement("div",{ref:A,id:d,className:i(b.table,t(t(t({},b.border,!E),b.virtualized,F),b.hasScroll,U),S),"data-testid":T||c(f.TABLE,d),role:"table",style:Z,onScroll:X},h)))})),{sizes:d});export{S as default};
//# sourceMappingURL=Table.js.map
