import{defineProperty as e}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import{camelCase as o}from"lodash-es";import{getStyle as t}from"../../../../helpers/typesciptCssModulesHelper.js";import r from"classnames";import l,{forwardRef as n,useMemo as s,useRef as c,useCallback as i,useEffect as a}from"react";import{contentColors as m}from"../../../../utils/colors-vars-map.js";import u from"../../../../utils/colors-utils.js";import d from"../../../Icon/Icon.js";import p from"../../../Tooltip/Tooltip.js";import f from"../../../Clickable/Clickable.js";import{getTestId as v}from"../../../../tests/testIds.js";import{ComponentDefaultTestId as I}from"../../../../tests/constants.js";import C from"./ColorPickerItemComponent.module.scss.js";var g=n((function(n,g){var y=n.color,E=n.onColorClicked,j=n.colorStyle,k=void 0===j?"regular":j,b=n.shouldRenderIndicatorWithoutBackground,S=n.ColorIndicatorIcon,h=n.SelectedIndicatorIcon,L=void 0===h?S:h,M=n.isSelected,N=n.colorSize,P=n.tooltipContent,T=n.isActive,W=n.colorShape,_=n["data-testid"],x=s((function(){return m.includes(y)}),[y]),A=x?u.getMondayColorAsStyle(y,k):y,R=c(null),z=i((function(){return E(y)}),[E,y]);a((function(){if((null==R?void 0:R.current)&&!b&&x){var e=R.current,o=function(e){e.target.style.background=u.getMondayColorAsStyle(y,"selected"===k?"regular":"hover")},t=function(e){e.target.style.background=A};return e.addEventListener("mouseenter",o,!1),e.addEventListener("mouseleave",t,!1),function(){e.removeEventListener("mouseenter",o,!1),e.removeEventListener("mouseleave",t,!1)}}}),[y,A,k,x,R,b]);var B=M||S,D=b?{color:A}:{};return l.createElement(p,{content:P},l.createElement("li",{className:r(C.itemWrapper,e(e(e({},C.selectedColor,M),C.active,T),C.circle,"circle"===W)),"data-testid":_||v(I.COLOR_PICKER_ITEM,y)},l.createElement("div",{className:r(C.feedbackIndicator)}),l.createElement(f,{ref:R,ariaLabel:y,className:r(C.colorItem,t(C,o("color-item-size-"+N)),e({},C.colorItemTextMode,b)),style:{background:b?"transparent":A},onClick:z,tabIndex:"-1",onMouseDown:function(e){return e.preventDefault()}},l.createElement("div",{className:r(C.colorIndicatorWrapper),style:D},B&&l.createElement(d,{icon:M?L:S,className:r(e({},C.colorIconWhite,!b)),ignoreFocusStyle:!0})))))}));export{g as default};
//# sourceMappingURL=ColorPickerItemComponent.js.map
