{"version":3,"file":"Loader.js","sources":["../../../../src/components/Loader/Loader.tsx"],"sourcesContent":["import React, { ForwardedRef, forwardRef, useMemo } from \"react\";\nimport cx from \"classnames\";\nimport { LoaderColors as LoaderColorsEnum, LoaderSizes as LoaderSizesEnum } from \"./LoaderConstants\";\nimport { LoaderColors, LoaderSize, LoaderSizes } from \"./Loader.types\";\nimport { getTestId } from \"../../tests/test-ids-utils\";\nimport { VibeComponent, VibeComponentProps, withStaticProps } from \"../../types\";\nimport { ComponentDefaultTestId } from \"../../tests/constants\";\nimport styles from \"./Loader.module.scss\";\n\nconst mapSizesToLoaderSize: Record<LoaderSizes, number> = {\n  xs: 16,\n  small: 24,\n  medium: 40,\n  large: 64\n};\n\nconst mapLoaderColorsToColors: Record<LoaderColors, string> = {\n  primary: \"primary-color\",\n  secondary: \"secondary-text-color\",\n  onPrimary: \"text-color-on-inverted\",\n  dark: \"primary-text-color\"\n};\n\nexport interface LoaderProps extends VibeComponentProps {\n  className?: string;\n  /** The loader's size: `number` or `LoaderSizes` */\n  size?: LoaderSize;\n  color?: LoaderColors;\n  hasBackground?: boolean;\n  wrapperClassName?: string;\n}\n\nconst Loader: VibeComponent<LoaderProps, HTMLElement> & {\n  sizes?: typeof LoaderSizesEnum;\n  colors?: typeof LoaderColorsEnum;\n} = forwardRef(\n  (\n    { className, wrapperClassName, size, color, hasBackground = false, id, \"data-testid\": dataTestId }: LoaderProps,\n    ref: ForwardedRef<HTMLDivElement>\n  ) => {\n    const sizeStyle = useMemo(() => {\n      const loaderSize = typeof size === \"string\" ? mapSizesToLoaderSize[size] : size;\n      if (typeof loaderSize === \"number\") {\n        return { width: loaderSize, height: loaderSize };\n      }\n      return undefined;\n    }, [size]);\n\n    const colorStyle = useMemo(() => {\n      if (!mapLoaderColorsToColors[color]) return;\n      return `var(--${mapLoaderColorsToColors[color]})`;\n    }, [color]);\n\n    return (\n      <div\n        className={cx(styles.loaderContainer, wrapperClassName)}\n        ref={ref}\n        role=\"alert\"\n        title=\"loading\"\n        style={sizeStyle}\n        id={id}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.LOADER, id)}\n      >\n        <svg className={cx(styles.circleLoaderSpinner, className)} viewBox=\"0 0 50 50\" color={colorStyle} aria-hidden>\n          {hasBackground && (\n            <circle\n              className={styles.circleLoaderSpinnerBackground}\n              cx=\"25\"\n              cy=\"25\"\n              r=\"20\"\n              fill=\"none\"\n              strokeWidth=\"5\"\n            />\n          )}\n          <circle className={styles.circleLoaderSpinnerPath} cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" strokeWidth=\"5\" />\n        </svg>\n      </div>\n    );\n  }\n);\n\nexport default withStaticProps(Loader, {\n  sizes: LoaderSizesEnum,\n  colors: LoaderColorsEnum\n});\n"],"names":["mapSizesToLoaderSize","xs","small","medium","large","mapLoaderColorsToColors","primary","secondary","onPrimary","dark","withStaticProps","forwardRef","_ref","ref","className","wrapperClassName","size","color","_ref$hasBackground","hasBackground","id","dataTestId","sizeStyle","useMemo","loaderSize","width","height","colorStyle","concat","React","createElement","cx","styles","loaderContainer","role","title","style","getTestId","ComponentDefaultTestId","LOADER","circleLoaderSpinner","viewBox","circleLoaderSpinnerBackground","cy","r","fill","strokeWidth","circleLoaderSpinnerPath","sizes","LoaderSizesEnum","colors","LoaderColorsEnum"],"mappings":"sZASA,IAAMA,EAAoD,CACxDC,GAAI,GACJC,MAAO,GACPC,OAAQ,GACRC,MAAO,IAGHC,EAAwD,CAC5DC,QAAS,gBACTC,UAAW,uBACXC,UAAW,yBACXC,KAAM,sBA6DOC,EAAAA,EA9CXC,GACF,SAAAC,EAEEC,GACE,IAFAC,EAASF,EAATE,UAAWC,EAAgBH,EAAhBG,iBAAkBC,EAAIJ,EAAJI,KAAMC,EAAKL,EAALK,MAAKC,EAAAN,EAAEO,cAAAA,OAAgB,IAAHD,GAAQA,EAAEE,EAAER,EAAFQ,GAAmBC,EAAUT,EAAzB,eAGjEU,EAAYC,GAAQ,WACxB,IAAMC,EAA6B,iBAATR,EAAoBhB,EAAqBgB,GAAQA,EAC3E,GAA0B,iBAAfQ,EACT,MAAO,CAAEC,MAAOD,EAAYE,OAAQF,EAGxC,GAAG,CAACR,IAEEW,EAAaJ,GAAQ,WACzB,GAAKlB,EAAwBY,GAC7B,MAAA,SAAAW,OAAgBvB,EAAwBY,GAAM,IAChD,GAAG,CAACA,IAEJ,OACEY,EACEC,cAAA,MAAA,CAAAhB,UAAWiB,EAAGC,EAAOC,gBAAiBlB,GACtCF,IAAKA,EACLqB,KAAK,QACLC,MAAM,UACNC,MAAOd,EACPF,GAAIA,gBACSC,GAAcgB,EAAUC,EAAuBC,OAAQnB,IAEpES,EAAAC,cAAA,MAAA,CAAKhB,UAAWiB,EAAGC,EAAOQ,oBAAqB1B,GAAY2B,QAAQ,YAAYxB,MAAOU,EAAU,eAAA,GAC7FR,GACCU,EACEC,cAAA,SAAA,CAAAhB,UAAWkB,EAAOU,8BAClBX,GAAG,KACHY,GAAG,KACHC,EAAE,KACFC,KAAK,OACLC,YAAY,MAGhBjB,EAAAC,cAAA,SAAA,CAAQhB,UAAWkB,EAAOe,wBAAyBhB,GAAG,KAAKY,GAAG,KAAKC,EAAE,KAAKC,KAAK,OAAOC,YAAY,OAI1G,IAGqC,CACrCE,MAAOC,EACPC,OAAQC"}