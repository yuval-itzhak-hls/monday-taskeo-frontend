import{defineProperty as o}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import e from"classnames";import t,{useRef as n,useEffect as i,useCallback as r,useMemo as l}from"react";import s from"../../../Icon/Icon.js";import c from"../../../Tooltip/Tooltip.js";import a from"../../../../hooks/useIsOverflowing/useIsOverflowing.js";import{keyCodes as m}from"../../../../constants/keyCodes.js";import{getOptionId as p}from"../../helpers.js";import{withStaticProps as u}from"../../../../types/withStaticProps.js";import"../../../../utils/colors-vars-map.js";import{ComboboxOptionIconType as f}from"../ComboboxConstants.js";import{getTestId as d,ComponentDefaultTestId as v}from"../../../../tests/testIds.js";import b from"./ComboboxOption.module.scss.js";var y=u((function(u){var f=u.index,y=u.option,O=u.className,I=u.isActive,h=u.visualFocus,g=u.scrollRef,j=u.scrollOffset,T=void 0===j?100:j,C=u.onOptionClick,E=u.onOptionLeave,k=u.onOptionHover,N=u.optionLineHeight,S=u.shouldScrollWhenActive,w=void 0===S||S,x=u.optionRenderer,L=void 0===x?null:x,P=y.id,A=y.leftIcon,B=y.leftIconType,F=y.rightIcon,H=y.rightIconType,M=y.label,R=y.iconSize,_=void 0===R?18:R,z=y.disabled,D=y.selected,K=y.ariaLabel,V=y.belongToCategory,W=void 0!==V&&V,X=y.tooltipContent,q=n(null),G=n(),J=a({ref:G});i((function(){var o,e=q.current;h&&e&&w&&((null==g?void 0:g.current)&&e?g.current.scrollTop=e.offsetTop-T:null===(o=null==e?void 0:e.scrollIntoView)||void 0===o||o.call(e,{behaviour:"smooth"}))}),[q,h,w,g,T,W]);var Q=function(o,n,i){return"renderer"===n?o(e(b.optionIcon,i)):t.createElement(s,{className:e(b.optionIcon,i),iconType:"font",icon:o,iconSize:_,ignoreFocusStyle:!0})},U=r((function(o){z||C(o,f,y,!0)}),[f,y,C,z]),Y=r((function(o){z||E(o,f,y,!0)}),[f,y,E,z]),Z=r((function(o){z||k(o,f,y,!0)}),[f,y,k,z]),$=r((function(o){o.key!==m.ENTER&&o.key!==m.SPACE||C(o,f,y,!1)}),[C,f,y]);X||(X=J?M:null);var oo=l((function(){return L&&L(y)}),[L,y]),eo=t.createElement(t.Fragment,null,A&&Q(A,B,b.left),t.createElement("div",{ref:G,className:e(b.optionLabel)},M),F&&Q(F,H,""));return t.createElement(c,{content:X},t.createElement("div",{ref:q,key:P||M,"aria-level":W?2:1,"aria-selected":I,"aria-label":K||M,id:p(P,f),"data-testid":d(v.COMBOBOX_OPTION,f),onMouseEnter:Z,onClick:U,onKeyDown:$,onMouseLeave:Y,className:e(b.comboboxOption,O,o(o(o(o({},b.disabled,z),b.selected,D),b.active,I),b.activeOutline,h)),style:{height:N}},oo||eo))}),{iconTypes:f});export{y as default};
//# sourceMappingURL=ComboboxOption.js.map
