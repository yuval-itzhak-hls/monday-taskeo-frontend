import{slicedToArray as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import r from"classnames";import t,{useState as o,useMemo as s,useEffect as m}from"react";import{SystemTheme as i,ThemeColor as n}from"./ThemeProviderConstants.js";import{generateRandomAlphaString as a,isAnySystemThemeClassNameOnBody as c,addSystemThemeClassNameToBody as l,removeSystemThemeClassNameFromBody as d,shouldGenerateTheme as u,generateThemeCssOverride as f}from"./ThemeProviderUtils.js";import p from"../../hooks/ssr/useIsomorphicLayoutEffect.js";import{withStaticProps as h}from"../../types/withStaticProps.js";import"../../utils/colors-vars-map.js";var v=h((function(i){var n=i.themeConfig,h=i.children,v=i.themeClassSpecifier,y=i.systemTheme,T=i.className,j=o(!1),C=e(j,2),g=C[0],P=C[1],E=s((function(){return v||a()}),[v]);return p((function(){if(y&&!c())return l(y),function(){d(y)}}),[y]),m((function(){if(u(n)){if(!document.getElementById(n.name)){var e=document.createElement("style");e.type="text/css",e.id=n.name;var r=f(n,E);try{e.appendChild(document.createTextNode(r)),document.head.appendChild(e),P(!0)}catch(e){console.error("vibe ThemeProvider: error inserting theme-generated css - ",e)}return function(){document.head.removeChild(e)}}P(!0)}}),[E,n]),!g&&u(n)?null:t.createElement("div",{className:r(null==n?void 0:n.name,E,T)},h)}),{systemThemes:i,colors:n});export{v as default};
//# sourceMappingURL=ThemeProvider.js.map
