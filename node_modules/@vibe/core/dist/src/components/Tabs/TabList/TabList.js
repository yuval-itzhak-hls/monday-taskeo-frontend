import{slicedToArray as e}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import t from"classnames";import{camelCase as r}from"lodash-es";import s,{forwardRef as o,useRef as a,useState as i,useEffect as n,useMemo as l,useCallback as m}from"react";import d from"../../../hooks/useGridKeyboardNavigation/useGridKeyboardNavigation.js";import u from"../../../hooks/useMergeRef.js";import c from"../../../hooks/usePrevious/index.js";import{NOOP as p}from"../../../utils/function-utils.js";import{getTestId as f,ComponentDefaultTestId as b}from"../../../tests/testIds.js";import{getStyle as v}from"../../../helpers/typesciptCssModulesHelper.js";import h from"./TabList.module.scss.js";var I=o((function(o,I){var C=o.className,T=o.id,g=o.onTabChange,j=void 0===g?p:g,N=o.activeTabId,y=void 0===N?0:N,L=o.tabType,k=void 0===L?"Compact":L,x=o.size,A=o.children,E=o["data-testid"],B=a(null),S=u(I,B),_=i(y),G=e(_,2),H=G[0],K=G[1],M=c(y);n((function(){y!==M&&y!==H&&K(y)}),[y,M,H,K]);var O=l((function(){var e=new Set;return s.Children.forEach(A,(function(t,r){t.props.disabled&&e.add(r)})),e}),[A]),P=m((function(e){O.has(e)||(K(e),j&&j(e))}),[j,O]),W=m((function(e,t){var r,s=null===(r=A[t].props)||void 0===r?void 0:r.onClick;O.has(t)||(s&&s(t),P(t))}),[A,O,P]),w=m((function(e){return A[e]}),[A]),z=l((function(){return Array.from(O)}),[O]),R=a(),q=d({ref:R,numberOfItemsInLine:null==A?void 0:A.length,itemsCount:null==A?void 0:A.length,getItemByIndex:w,onItemClicked:W,disabledIndexes:z}),D=q.activeIndex,F=q.onSelectionAction,J=l((function(){return s.Children.map(A,(function(e,r){return s.cloneElement(e,{value:r,active:H===r,focus:D===r,onClick:F,className:t(h.tabListTabWrapper,e.props.className),tabInnerClassName:t(h.tabListTabInner,e.props.tabInnerClassName)})}))}),[A,H,D,F]);return s.createElement("div",{ref:S,className:t(h.tabsWrapper,C,[v(h,r(k))]),id:T,"data-testid":E||f(b.TAB_LIST,T)},s.createElement("ul",{ref:R,tabIndex:0,className:t(h.tabsList,[v(h,x)]),role:"tablist"},J))}));Object.assign(I,{isTabList:!0});export{I as default};
//# sourceMappingURL=TabList.js.map
