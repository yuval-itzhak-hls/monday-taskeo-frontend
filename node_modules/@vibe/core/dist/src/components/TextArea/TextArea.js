import{slicedToArray as e,defineProperty as t}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{__rest as a}from"../../../_virtual/_tslib.js";import r,{forwardRef as s,useMemo as l,useState as i,useCallback as n}from"react";import o from"classnames";import{getTestId as m}from"../../tests/testIds.js";import{ComponentDefaultTestId as d}from"../../tests/constants.js";import c from"./TextArea.module.scss.js";import u from"../Text/Text.js";import x from"../Flex/Flex.js";import p from"../HiddenText/HiddenText.js";var f={small:3,large:4},h=s((function(s,h){var g=s.size,b=void 0===g?"small":g,v=s.rows,T=s.label,E=s.helpText,j=s.success,y=s.error,w=s.className,C=s["data-testid"],N=s.id,A=s.disabled,z=s.readOnly,L=s.required,O=s.maxLength,_=s.allowExceedingMaxLength,q=s.onChange,F=s.value,H=s.resize,M=void 0===H||H,P=s.showCharCount,B=void 0!==P&&P,I=a(s,["size","rows","label","helpText","success","error","className","data-testid","id","disabled","readOnly","required","maxLength","allowExceedingMaxLength","onChange","value","resize","showCharCount"]),R=v||f[b],W=E&&"".concat(N,"-help-text"),X=_&&"".concat(N,"-allow-exceeding-max-length"),k=l((function(){return[W,X].filter((function(e){return!!e})).join(" ")||void 0}),[W,X]),D=i((null==F?void 0:F.length)||0),G=e(D,2),J=G[0],K=G[1],Q=y||"number"==typeof O&&J>O,S=n((function(e){K(e.target.value.length),null==q||q(e)}),[q]);return r.createElement("div",{className:o(c.textAreaWrapper,t(t(t(t({},c.error,Q),c.success,j),c.disabled,A),c.readOnly,z),w),"data-testid":C||m(d.TEXT_AREA,N)},T&&r.createElement("label",{className:o(c.label,t({},c.required,L)),htmlFor:N},T),r.createElement("textarea",Object.assign({},I,{id:N,maxLength:"number"!=typeof O||_?void 0:O,ref:h,value:F,disabled:A,readOnly:z,required:L,rows:R,className:o(c.textArea,[c[b]],t({},c.resize,M)),"aria-invalid":Q,"aria-describedby":k,onChange:S})),(B||E)&&r.createElement(x,{gap:"xs",justify:"space-between",className:o(c.subTextContainer)},E&&r.createElement(u,{className:o(c.helpText),color:"inherit",id:W},E),B&&r.createElement(r.Fragment,null,r.createElement(u,{className:c.limitText},J,"number"==typeof O&&"/".concat(O)),r.createElement(p,{id:X,text:"Maximum of ".concat(O," characters")}))))}));export{h as default};
//# sourceMappingURL=TextArea.js.map
