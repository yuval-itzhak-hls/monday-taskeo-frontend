import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import t,{forwardRef as o,useRef as a,useEffect as n,useCallback as r,useMemo as i}from"react";import{camelCase as s}from"lodash-es";import l from"classnames";import{SIZES as c}from"../../constants/sizes.js";import u from"../../hooks/useMergeRef.js";import{NOOP as d}from"../../utils/function-utils.js";import m from"../Icon/Icon.js";import p from"../Loader/Loader.js";import{BUTTON_ICON_SIZE as f,ButtonColor as y,ButtonType as g,ButtonInputType as b}from"./ButtonConstants.js";import{TRANSPARENT_COLOR as v,getParentBackgroundColorNotTransparent as h}from"./helper/dom-helpers.js";import{getTestId as C}from"../../tests/testIds.js";import{withStaticProps as j}from"../../types/withStaticProps.js";import"../../utils/colors-vars-map.js";import{getStyle as F}from"../../helpers/typesciptCssModulesHelper.js";import{ComponentDefaultTestId as N}from"../../tests/constants.js";import k from"./Button.module.scss.js";import{useButtonLoading as E}from"./helper/useButtonLoading.js";var I=o((function(o,c){var d=o.className,y=o.children,g=o.kind,b=o.onClick,v=o.name,j=o.size,I=o.color,x=o.disabled,P=o.rightIcon,B=o.leftIcon,S=o.success,L=o.successText,T=o.successIcon,z=o.style,M=o.loading,O=o.loaderClassName,D=o.active,w=o.activeButtonClassName,A=o.id,H=o.marginRight,R=o.marginLeft,U=o.type,_=o.onMouseDown,q=o.ariaLabel,G=o.rightFlat,J=o.leftFlat,K=o.preventClickAnimation,Q=o.noSidePadding,V=o.onFocus,W=o.onBlur,X=o.ariaLabeledBy,Y=o.defaultTextColorOnPrimaryColor,Z=o.ariaHasPopup,$=o.ariaExpanded,ee=o.ariaControls,te=o["aria-describedby"],oe=o["aria-hidden"],ae=o["aria-pressed"],ne=o.blurOnMouseUp,re=o["data-testid"],ie=o.insetFocus,se=o.tabIndex,le=a(null),ce=u(c,le),ue=E({isLoading:M}).loading;n((function(){if(("on-primary-color"===I||"fixed-light"===I)&&"primary"===g&&le.current){var e=le.current;e.style.color=h(e,Y)}}),[g,le,I,Y]);var de=r((function(){var e=le.current;!x&&e&&ne&&e.blur()}),[x,le,ne]),me=r((function(e){x||ue||S?e.preventDefault():b&&b(e)}),[b,x,ue,S]),pe=r((function(e){x||ue||S?e.preventDefault():_&&_(e)}),[_,x,ue,S]),fe=i((function(){var t,o=S?"positive":I;return l(d,k.button,F(k,s("size-"+j)),F(k,s("kind-"+g)),F(k,s("color-"+o)),(e(e(e(e(e(e(e(e(e(e(t={},k.success,S),F(k,s("color-"+o+"-active")),D),w,D),k.marginRight,H),k.marginLeft,R),k.rightFlat,G),k.leftFlat,J),k.preventClickAnimation,K),k.noSidePadding,Q),k.disabled,x),e(t,k.insetFocusStyle,ie)))}),[S,I,d,j,g,D,w,H,R,G,J,K,Q,x,ie]),ye=i((function(){return{ref:ce,type:U,className:fe,name:v,onMouseUp:de,style:z,onClick:me,id:A,onFocus:V,onBlur:W,tabIndex:x||oe?-1:se,"data-testid":re||C(N.BUTTON,A),onMouseDown:pe,"aria-disabled":x,"aria-busy":ue,"aria-labelledby":X,"aria-label":q,"aria-haspopup":Z,"aria-expanded":$,"aria-controls":ee,"aria-describedby":te,"aria-hidden":oe,"aria-pressed":ae}}),[ce,U,fe,v,de,z,me,A,V,W,se,re,pe,x,ue,X,q,Z,$,ee,te,oe,ae]),ge=i((function(){if("function"==typeof B)return f}),[B]),be=i((function(){if("function"==typeof P)return f}),[P]),ve=i((function(){if("function"==typeof T)return f}),[T]),he=i((function(){return t.Children.toArray(y).some(Boolean)}),[y]),Ce=i((function(){return t.createElement(t.Fragment,null,B?t.createElement(m,{iconType:"font",icon:B,iconSize:ge,className:l(e({},k.leftIcon,he)),ignoreFocusStyle:!0}):null,y,P?t.createElement(m,{iconType:"font",icon:P,iconSize:be,className:l(e({},k.rightIcon,he)),ignoreFocusStyle:!0}):null)}),[y,he,B,ge,P,be]);return ue?t.createElement("button",Object.assign({},ye,{key:"".concat(A,"-loading")}),t.createElement("span",{className:l(k.loader,O)},t.createElement(p,{className:k.loaderSvg}),t.createElement("span",{"aria-hidden":!0,className:k.textPlaceholder},Ce))):S?t.createElement("button",Object.assign({},ye,{key:"".concat(A,"-success")}),t.createElement("span",{className:k.successContent},T?t.createElement(m,{iconType:"font",icon:T,iconSize:ve,className:l(e({},k.leftIcon,!!L)),ignoreFocusStyle:!0}):null,L),t.createElement("span",{"aria-hidden":"true",className:k.textPlaceholder},Ce)):t.createElement("button",Object.assign({},ye,{key:"".concat(A,"-button")}),Ce)}));I.defaultProps={className:void 0,name:void 0,style:void 0,id:void 0,kind:"primary",onClick:d,size:"medium",color:"primary",disabled:!1,rightIcon:null,leftIcon:null,success:!1,successText:"",successIcon:null,loading:!1,loaderClassName:void 0,active:!1,marginRight:!1,marginLeft:!1,type:"button",onMouseDown:d,rightFlat:!1,leftFlat:!1,preventClickAnimation:!1,noSidePadding:!1,onFocus:d,onBlur:d,defaultTextColorOnPrimaryColor:v,ariaHasPopup:void 0,blurOnMouseUp:!0,ariaExpanded:void 0,ariaControls:void 0,ariaLabel:void 0,ariaLabeledBy:void 0,insetFocus:!1};var x=j(I,{sizes:c,colors:y,kinds:g,types:b,inputTags:b});export{x as default};
//# sourceMappingURL=Button.js.map
