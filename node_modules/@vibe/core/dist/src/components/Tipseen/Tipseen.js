import{slicedToArray as e,defineProperty as t}from"../../../_virtual/_rollupPluginBabelHelpers.js";import o,{forwardRef as i,useRef as r,useState as s,useEffect as n,useMemo as a,Fragment as l}from"react";import m from"classnames";import{AnimationType as d,HideShowEvent as p}from"../Dialog/DialogConstants.js";import c from"../../hooks/useMergeRef.js";import u from"../Tooltip/Tooltip.js";import f from"../IconButton/IconButton.js";import h from"./TipseenTitle.js";import{TipseenCloseButtonTheme as v,TipseenColor as T,TIPSEEN_CLOSE_BUTTON_ARIA_LABEL as y}from"./TipseenConstants.js";import{withStaticProps as g}from"../../types/withStaticProps.js";import"../../utils/colors-vars-map.js";import{ComponentDefaultTestId as C}from"../../tests/constants.js";import{getTestId as j}from"../../tests/testIds.js";import N from"../Text/Text.js";import E from"./Tipseen.module.scss.js";import{ButtonColor as w}from"../Button/ButtonConstants.js";import{TooltipPositions as B}from"../Tooltip/TooltipConstants.js";import D from"../../../icons/dist/react/CloseSmall.js";var x=o.createContext("primary"),A=g(i((function(i,d){var p=i.className,v=i.id,T=i.position,g=void 0===T?"bottom":T,B=i.animationType,A=void 0===B?"expand":B,R=i.hideDelay,W=void 0===R?0:R,S=i.showDelay,k=void 0===S?100:S,I=i.title,O=i.titleClassName,P=i.hideCloseButton,_=i.closeButtonTheme,b=void 0===_?"light":_,H=i.onClose,L=i.closeAriaLabel,M=i.children,z=void 0===M?null:M,G=i.content,K=i.containerSelector,U=i.hideTrigger,V=void 0===U?[]:U,Y=i.showTrigger,q=void 0===Y?[]:Y,F=i.width,J=i.moveBy,Q=i.hideWhenReferenceHidden,X=void 0!==Q&&Q,Z=i.referenceWrapperClassName,$=i.tip,ee=void 0===$||$,te=i.tooltipArrowClassName,oe=i.modifiers,ie=void 0===oe?[]:oe,re=i.floating,se=void 0!==re&&re,ne=i.color,ae=i["data-testid"],le=null!=ne?ne:"inverted",me=Array.isArray(q)&&Array.isArray(V)&&0===q.length&&k>0,de=r(null),pe=c(d,de),ce=s(!me),ue=e(ce,2),fe=ue[0],he=ue[1],ve=L||y;n((function(){var e;return k&&(e=setTimeout((function(){he(!0)}),k)),function(){clearTimeout(e)}}),[k,he]);var Te=a((function(){return"inverted"===le?"onInverted":"onPrimary"}),[le]),ye=a((function(){return"light"===b?"inverted"===le?w.ON_INVERTED_BACKGROUND:w.ON_PRIMARY_COLOR:b}),[le,b]),ge=d||v?"div":l,Ce=o.createElement("div",null,o.createElement("div",{className:m(E.tipseenHeader)},P?null:o.createElement(f,{hideTooltip:!0,className:m(E.tipseenCloseButton,t({},E.dark,"dark"===b||"fixed-dark"===b)),onClick:H,size:"xs",kind:"tertiary",color:ye,ariaLabel:ve,icon:D}),o.createElement(h,{text:I,className:m(E.tipseenTitle,O)})),o.createElement(N,{color:Te,type:"text2",element:"p",className:m(E.tipseenContent)},o.createElement(x.Provider,{value:le},G)));return o.createElement(ge,{ref:pe,id:v,"data-testid":ae||j(C.TIPSEEN,v)},o.createElement(u,{className:m(E.tipseenWrapper,p,t(t({},E.tipseenWrapperWithoutCustomWidth,!F),E.floating,se)),arrowClassName:te,style:F?{width:F}:void 0,shouldShowOnMount:!me,position:g,animationType:A,hideDelay:W,showDelay:k,hideTrigger:V,showTrigger:q,showOnDialogEnter:!1,content:Ce,theme:"inverted"===le?"dark":"primary",containerSelector:K,disableDialogSlide:!1,moveBy:J,hideWhenReferenceHidden:X,referenceWrapperClassName:Z,tip:ee&&!se,modifiers:ie,open:me?fe:void 0,forceRenderWithoutChildren:se},z))})),{closeButtonThemes:v,animationTypes:d,hideShowTriggers:p,colors:T,positions:B});export{x as TipseenContext,A as default};
//# sourceMappingURL=Tipseen.js.map
