import e,{useRef as n,useMemo as o}from"react";import t from"../../../../DialogContentContainer/DialogContentContainer.js";import i from"../../../../../hooks/usePopover.js";import{Placement as s}from"../../../../../hooks/popoverConstants.js";import r from"../../../../../hooks/ssr/useIsomorphicLayoutEffect.js";var l=function(l){var u,a=l.anchorRef,c=l.open,p=l.autoFocusOnMount,m=l.onClose,v=l.children,f=l.submenuPosition,d=l.autoAdjustOnSubMenuContentResize,b=n(null),h=n(null);r((function(){p&&c&&(null==b?void 0:b.current)&&requestAnimationFrame((function(){b.current.focus()}))}),[p,c]);var j=o((function(){return"left"===f?s.LEFT_START:void 0}),[f]),C=i(null==a?void 0:a.current,null==h?void 0:h.current,{isOpen:c,placement:j,observeContentResize:d}),O=C.styles,g=C.attributes,y=v&&e.Children.only(v);return(null===(u=null==y?void 0:y.type)||void 0===u?void 0:u.isMenu)?e.createElement("div",Object.assign({style:Object.assign(Object.assign({},O.popper),{visibility:c?"visible":"hidden"})},g.popper,{ref:h}),y&&c&&e.createElement(t,null,e.cloneElement(y,Object.assign(Object.assign({},null==y?void 0:y.props),{isVisible:c,isSubMenu:!0,onClose:m,ref:b,useDocumentEventListeners:!p})))):(console.error("MenuItem can accept only Menu element as first level child, this element is not valid: ",y),null)};export{l as default};
//# sourceMappingURL=MenuItemSubMenu.js.map
