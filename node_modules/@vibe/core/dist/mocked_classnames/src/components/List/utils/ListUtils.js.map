{"version":3,"file":"ListUtils.js","sources":["../../../../../../src/components/List/utils/ListUtils.ts"],"sourcesContent":["import { MutableRefObject, useState } from \"react\";\nimport { ListItemElement } from \"../../ListItem/ListItem.types\";\nimport { ListElement } from \"../List.types\";\nimport useIsomorphicLayoutEffect from \"../../../hooks/ssr/useIsomorphicLayoutEffect\";\n\nlet listIdCounter = 0;\nexport const generateListId = () => {\n  return `list-${listIdCounter++}`;\n};\n\nexport const useListId = (id: string) => {\n  const [listId, setListId] = useState<string>();\n  useIsomorphicLayoutEffect(() => {\n    setListId(id || generateListId());\n  }, [id]);\n  return listId;\n};\n\nexport const getListItemIdByIndex = (childrenRefs: MutableRefObject<HTMLElement[]>, index: number): string => {\n  return childrenRefs.current[index]?.id;\n};\n\nexport const getListItemIndexById = (childrenRefs: MutableRefObject<HTMLElement[]>, id: string): number => {\n  return childrenRefs.current.findIndex(child => child?.id === id);\n};\n\nexport const getListItemComponentType = (listComponent: ListElement): ListItemElement => {\n  switch (listComponent) {\n    case \"ul\":\n    case \"ol\":\n      return \"li\";\n    case \"nav\":\n      return \"a\";\n    default:\n      return \"div\";\n  }\n};\n\nexport const isListItem = (element: HTMLElement) => {\n  return element && element instanceof HTMLElement && element.getAttribute(\"role\") === \"option\";\n};\n\nexport const getNextListItemIndex = (currentIndex: number, childrenRefs: MutableRefObject<HTMLElement[]>) => {\n  while (currentIndex < childrenRefs.current.length - 1) {\n    const child = childrenRefs.current[++currentIndex];\n    if (isListItem(child)) {\n      return currentIndex;\n    }\n  }\n  return undefined;\n};\n\nexport const getPrevListItemIndex = (currentIndex: number, childrenRefs: MutableRefObject<HTMLElement[]>) => {\n  while (currentIndex > 0) {\n    const child = childrenRefs.current[--currentIndex];\n    if (isListItem(child)) {\n      return currentIndex;\n    }\n  }\n  return undefined;\n};\n"],"names":["listIdCounter","generateListId","concat","useListId","id","_useState","useState","_useState2","_slicedToArray","listId","setListId","useIsomorphicLayoutEffect","getListItemIdByIndex","childrenRefs","index","_a","current","getListItemIndexById","findIndex","child","getListItemComponentType","listComponent","isListItem","element","HTMLElement","getAttribute","getNextListItemIndex","currentIndex","length","getPrevListItemIndex"],"mappings":"kLAKA,IAAIA,EAAgB,EACPC,EAAiB,WAC5B,MAAAC,QAAAA,OAAeF,IACjB,EAEaG,EAAY,SAACC,GACxB,IAAAC,EAA4BC,IAAkBC,EAAAC,EAAAH,EAAA,GAAvCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GAIxB,OAHAI,GAA0B,WACxBD,EAAUN,GAAMH,IAClB,GAAG,CAACG,IACGK,CACT,EAEaG,EAAuB,SAACC,EAA+CC,SAClF,OAAoC,QAA7BC,EAAAF,EAAaG,QAAQF,UAAQ,IAAAC,OAAA,EAAAA,EAAAX,EACtC,EAEaa,EAAuB,SAACJ,EAA+CT,GAClF,OAAOS,EAAaG,QAAQE,WAAU,SAAAC,GAAK,OAAIA,aAAA,EAAAA,EAAOf,MAAOA,IAC/D,EAEagB,EAA2B,SAACC,GACvC,OAAQA,GACN,IAAK,KACL,IAAK,KACH,MAAO,KACT,IAAK,MACH,MAAO,IACT,QACE,MAAO,MAEb,EAEaC,EAAa,SAACC,GACzB,OAAOA,GAAWA,aAAmBC,aAAgD,WAAjCD,EAAQE,aAAa,OAC3E,EAEaC,EAAuB,SAACC,EAAsBd,GACzD,KAAsBA,EAAaG,QAAQY,OAAS,EAA7CD,GAAgD,CACrD,IAAMR,EAAQN,EAAaG,UAAUW,GACrC,GAAIL,EAAWH,GACb,OAAOQ,CAEV,CAEH,EAEaE,EAAuB,SAACF,EAAsBd,GACzD,KAAOc,EAAe,GAAG,CACvB,IAAMR,EAAQN,EAAaG,UAAUW,GACrC,GAAIL,EAAWH,GACb,OAAOQ,CAEV,CAEH"}