import e from"classnames";import t,{forwardRef as a,useRef as o,useCallback as r,useEffect as i,useMemo as n}from"react";import{isNil as s,noop as c}from"lodash-es";import l from"../Icon/Icon.js";import{useSupportFirefoxLabelClick as m}from"./hooks/useSupportFirefoxLabelClick.js";import d from"../../hooks/useMergeRef.js";import{getTestId as u}from"../../tests/testIds.js";import{ComponentDefaultTestId as p}from"../../tests/constants.js";import f from"../Text/Text.js";import C from"./Checkbox.module.scss.js";import b from"../../../icons/dist/react/Remove.js";import h from"../../../icons/dist/react/Check.js";var k=a((function(a,k){var v=a.className,x=a.checkboxClassName,E=a.labelClassName,j=a.ariaLabel,N=a.label,y=a.ariaLabelledBy,F=a.onChange,g=void 0===F?c:F,B=a.checked,w=a.autoFocus,H=a.indeterminate,I=void 0!==H&&H,L=a.disabled,K=void 0!==L&&L,O=a.defaultChecked,X=a.tabIndex,A=a.value,R=void 0===A?"":A,S=a.name,T=void 0===S?"":S,q=a.id,M=a["data-testid"],_=o(null),z=d(k,_),U=o(null),D=r((function(){var e=_.current;e&&window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.blur()}))}))}),[_]),G=O;s(G)&&s(B)&&(G=!1),i((function(){_.current&&(_.current.indeterminate=I)}),[_,I]);var J=m({inputRef:_}).onClickCapture,P=n((function(){return j||("string"==typeof N?N:"")}),[j,N]);return t.createElement("label",{className:e(C.wrapper,v),onMouseUp:D,"data-testid":M||u(p.CHECKBOX,q),htmlFor:q,onClickCapture:J},t.createElement("input",{ref:z,id:q,className:C.input,value:R,name:T,type:"checkbox",autoFocus:w,onChange:g,defaultChecked:G,disabled:K,"aria-label":P,"aria-labelledby":y,checked:B,tabIndex:X}),t.createElement("div",{className:e(C.checkbox,x),ref:U,"data-testid":u(p.CHECKBOX_CHECKBOX,q)},t.createElement(l,{className:C.icon,iconType:"svg",icon:I?b:h,ignoreFocusStyle:!0,ariaHidden:!0,iconSize:"16"})),!1===N?null:t.createElement(f,{element:"span",type:"text2",className:e(C.label,E),"data-testid":u(p.CHECKBOX_LABEL,q)},N))}));export{k as default};
//# sourceMappingURL=Checkbox.js.map
