{"version":3,"file":"Flex.js","sources":["../../../../../src/components/Flex/Flex.tsx"],"sourcesContent":["import React, { forwardRef, useMemo, useRef } from \"react\";\nimport cx from \"classnames\";\nimport useMergeRef from \"../../hooks/useMergeRef\";\nimport Clickable from \"../../components/Clickable/Clickable\";\nimport {\n  FlexAlign as FlexAlignEnum,\n  FlexDirection as FlexDirectionEnum,\n  FlexGap as FlexGapEnum,\n  FlexJustify as FlexJustifyEnum\n} from \"./FlexConstants\";\nimport { FlexDirection, FlexJustify, FlexAlign, FlexGap } from \"./Flex.types\";\nimport { ElementContent, VibeComponent, VibeComponentProps, withStaticProps } from \"../../types\";\nimport { getStyle } from \"../../helpers/typesciptCssModulesHelper\";\nimport styles from \"./Flex.module.scss\";\nimport { camelCase } from \"lodash-es\";\n\nexport interface FlexProps extends VibeComponentProps {\n  style?: object;\n  direction?: FlexDirection;\n  elementType?: React.ElementType;\n  wrap?: boolean;\n  children?: ElementContent | ElementContent[];\n  justify?: FlexJustify;\n  align?: FlexAlign;\n  gap?: FlexGap | number;\n  ariaLabel?: string;\n  tabIndex?: number;\n  /** onClick function - MouseEvent */\n  onClick?: (event: React.MouseEvent) => void;\n  /** element id to describe the counter accordingly */\n  ariaLabelledby?: string;\n}\n\nconst Flex: VibeComponent<FlexProps> & {\n  justify?: typeof FlexJustifyEnum;\n  align?: typeof FlexAlignEnum;\n  gaps?: typeof FlexGapEnum;\n  directions?: typeof FlexDirectionEnum;\n} = forwardRef(\n  (\n    {\n      className,\n      id,\n      elementType = \"div\",\n      direction = \"row\",\n      wrap = false,\n      children,\n      justify = \"start\",\n      align = \"center\",\n      gap,\n      onClick,\n      style,\n      ariaLabelledby,\n      ariaLabel,\n      tabIndex,\n      \"data-testid\": dataTestId\n    }: FlexProps,\n    ref\n  ) => {\n    const componentRef = useRef<HTMLElement>(null);\n    const mergedRef = useMergeRef(ref, componentRef);\n\n    const gapStyle = useMemo(() => {\n      if (!gap) {\n        return;\n      }\n      if (typeof gap === \"number\") {\n        return { gap: `${gap}px` };\n      }\n      return { gap: `var(--spacing-${gap})` };\n    }, [gap]);\n\n    const overrideStyle = useMemo(() => ({ ...style, ...gapStyle }), [style, gapStyle]);\n    const onClickProps = useMemo(() => {\n      if (onClick) return { elementType, ariaLabelledby };\n      return { \"aria-labelledby\": ariaLabelledby };\n    }, [onClick, elementType, ariaLabelledby]);\n    const Element = onClick ? Clickable : elementType;\n\n    return (\n      <Element\n        id={id}\n        data-testid={dataTestId}\n        {...onClickProps}\n        ref={mergedRef}\n        className={cx(\n          styles.container,\n          getStyle(styles, camelCase(`direction-${direction}`)),\n          getStyle(styles, camelCase(`justify-${justify}`)),\n          getStyle(styles, camelCase(`align-${align}`)),\n          className,\n          {\n            [styles.wrap]: wrap\n          }\n        )}\n        tabIndex={tabIndex}\n        onClick={onClick}\n        style={overrideStyle}\n        aria-label={ariaLabel}\n      >\n        {children}\n      </Element>\n    );\n  }\n);\n\nexport default withStaticProps(Flex, {\n  justify: FlexJustifyEnum,\n  align: FlexAlignEnum,\n  gaps: FlexGapEnum,\n  directions: FlexDirectionEnum\n});\n"],"names":["withStaticProps","forwardRef","_ref","ref","className","id","_ref$elementType","elementType","_ref$direction","direction","_ref$wrap","wrap","children","_ref$justify","justify","_ref$align","align","gap","onClick","style","ariaLabelledby","ariaLabel","tabIndex","dataTestId","componentRef","useRef","mergedRef","useMergeRef","gapStyle","useMemo","concat","overrideStyle","Object","assign","onClickProps","React","createElement","Clickable","cx","styles","container","getStyle","camelCase","_defineProperty","FlexJustifyEnum","FlexAlignEnum","gaps","FlexGapEnum","directions","FlexDirectionEnum"],"mappings":"qlBAiCA,IAyEeA,EAAAA,EApEXC,GACF,SAAAC,EAkBEC,GACE,IAjBAC,EAASF,EAATE,UACAC,EAAEH,EAAFG,GAAEC,EAAAJ,EACFK,YAAAA,OAAc,IAAHD,EAAG,MAAKA,EAAAE,EAAAN,EACnBO,UAAAA,OAAY,IAAHD,EAAG,MAAKA,EAAAE,EAAAR,EACjBS,KAAAA,OAAO,IAAHD,GAAQA,EACZE,EAAQV,EAARU,SAAQC,EAAAX,EACRY,QAAAA,OAAU,IAAHD,EAAG,QAAOA,EAAAE,EAAAb,EACjBc,MAAAA,OAAQ,IAAHD,EAAG,SAAQA,EAChBE,EAAGf,EAAHe,IACAC,EAAOhB,EAAPgB,QACAC,EAAKjB,EAALiB,MACAC,EAAclB,EAAdkB,eACAC,EAASnB,EAATmB,UACAC,EAAQpB,EAARoB,SACeC,EAAUrB,EAAzB,eAIIsB,EAAeC,EAAoB,MACnCC,EAAYC,EAAYxB,EAAKqB,GAE7BI,EAAWC,GAAQ,WACvB,GAAKZ,EAGL,MAAmB,iBAARA,EACF,CAAEA,IAAG,GAAAa,OAAKb,EAAG,OAEf,CAAEA,IAAG,iBAAAa,OAAmBb,EAAG,KACpC,GAAG,CAACA,IAEEc,EAAgBF,GAAQ,WAAA,OAAYG,OAAAC,OAAAD,OAAAC,OAAA,CAAA,EAAAd,GAAUS,EAAQ,GAAK,CAACT,EAAOS,IACnEM,EAAeL,GAAQ,WAC3B,OAAIX,EAAgB,CAAEX,YAAAA,EAAaa,eAAAA,GAC5B,CAAE,kBAAmBA,EAC7B,GAAE,CAACF,EAASX,EAAaa,IAG1B,OACEe,EAAAC,cAHclB,EAAUmB,EAAY9B,EAG5ByB,OAAAC,OAAA,CACN5B,GAAIA,EAAE,cACOkB,GACTW,EAAY,CAChB/B,IAAKuB,EACLtB,UAAWkC,EACTC,EAAOC,UACPC,EAASF,EAAQG,EAAS,aAAAZ,OAAcrB,KACxCgC,EAASF,EAAQG,EAAS,WAAAZ,OAAYhB,KACtC2B,EAASF,EAAQG,EAAS,SAAAZ,OAAUd,KACpCZ,EAASuC,EAAA,CAAA,EAENJ,EAAO5B,KAAOA,IAGnBW,SAAUA,EACVJ,QAASA,EACTC,MAAOY,EACK,aAAAV,IAEXT,EAGP,IAGmC,CACnCE,QAAS8B,EACT5B,MAAO6B,EACPC,KAAMC,EACNC,WAAYC"}