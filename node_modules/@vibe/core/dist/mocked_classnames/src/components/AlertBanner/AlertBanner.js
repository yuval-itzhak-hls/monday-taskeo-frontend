import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{getStyle as t}from"../../helpers/typesciptCssModulesHelper.js";import r from"classnames";import n,{forwardRef as o,useMemo as a}from"react";import s from"../IconButton/IconButton.js";import{AlertBannerBackgroundColor as i}from"./AlertBannerConstants.js";import{NOOP as l}from"../../utils/function-utils.js";import{ComponentDefaultTestId as m}from"../../tests/constants.js";import{getTestId as c}from"../../tests/testIds.js";import{withStaticProps as p}from"../../types/withStaticProps.js";import"../../utils/colors-vars-map.js";import d from"./AlertBanner.module.scss.js";import u from"../Text/Text.js";import{AlertBannerContext as f}from"./AlertBannerContext.js";import v from"../../../icons/dist/react/CloseSmall.js";var B=p(o((function(o,i){var p=o.children,B=o.className,b=o.backgroundColor,j=void 0===b?"primary":b,y=o.onClose,A=void 0===y?l:y,C=o.ariaLabel,k=void 0===C?"":C,E=o.closeButtonAriaLabel,x=void 0===E?"Close":E,N=o.isCloseHidden,g=void 0!==N&&N,I=o.id,T=o["data-testid"],h=a((function(){return r(B,d.alertBanner,t(d,j))}),[B,j]),L="dark"===j,P="warning"===j,D=a((function(){return P?"fixedDark":L?"onInverted":"onPrimary"}),[L,P]),H=a((function(){return n.Children.toArray(p).filter((function(e){return!(!e.type.isAlertBannerItem&&"MDXCreateElement"!==e.type.displayName)||(console.error("Alert banner child is not supported. Please use AlertBannerText, AlertBannerLink or AlertBannerButton.",e),!1)})).map((function(e,t){return n.cloneElement(e,Object.assign(Object.assign({},null==e?void 0:e.props),{marginLeft:t>0,isDarkBackground:L}))}))}),[p,L]);return n.createElement(u,{type:"text2",color:D,ref:i,className:h,role:"banner","aria-label":k||"banner",id:I,"data-testid":T||c(m.ALERT_BANNER,I)},n.createElement(f.Provider,{value:{textColor:D}},n.createElement("div",{className:r(d.content)},H.map((function(t,o){var a=t.type.isAlertBannerText;return n.createElement("div",{key:o,className:r(d.contentItem,e({},d.contentItemText,a))},a?n.createElement("div",{className:r(d.ellipsis)},t):t)})))),n.createElement("div",{className:r(d.closeButtonWrapper)},g?null:n.createElement(s,{"data-testid":"alert-banner-close-button",icon:v,className:r(d.closeBtn),hideTooltip:!0,onClick:A,size:"small",kind:"tertiary",color:L?"on-inverted-background":"on-primary-color",ariaLabel:x})))})),{backgroundColors:i});export{B as default};
//# sourceMappingURL=AlertBanner.js.map
