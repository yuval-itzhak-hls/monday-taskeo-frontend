import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import a from"classnames";import o,{forwardRef as r,useRef as t,useCallback as n}from"react";import s from"../../hooks/useMergeRef.js";import{getTestId as i,ComponentDefaultTestId as l}from"../../tests/testIds.js";import c from"./Search.module.scss.js";import d from"../BaseInput/BaseInput.js";import m from"../../hooks/useDebounceEvent/index.js";import u from"../IconButton/IconButton.js";import p from"../Icon/Icon.js";import f from"../Loader/Loader.js";import v from"../../../icons/dist/react/CloseSmall.js";import h from"../../../icons/dist/react/Search.js";var C=r((function(r,C){var I,b,j,E,N,R,g,x,y,B,A=r.searchIconName,L=void 0===A?h:A,S=r.clearIconName,z=void 0===S?v:S,F=r.clearIconLabel,w=void 0===F?"Clear":F,H=r.renderAction,_=r.hideRenderActionOnInput,k=r.value,D=r.placeholder,P=r.size,T=void 0===P?"medium":P,V=r.disabled,K=r.loading,O=r.autoFocus,M=r.autoComplete,U=void 0===M?"off":M,W=r.inputAriaLabel,q=r.debounceRate,G=void 0===q?400:q,J=r.searchResultsContainerId,Q=r.currentAriaResultId,X=r.onChange,Y=r.onFocus,Z=r.onBlur,$=r.onClear,ee=r.onKeyDown,ae=r.className,oe=r.ariaExpanded,re=r.ariaHasPopup,te=r.id,ne=r["data-testid"];return I=t(null),b=s(C,I),j=m({delay:G,onChange:X,initialStateValue:k}),E=j.inputValue,N=j.onEventChanged,g=n((function(){var e,a;V||(null===(a=null===(e=I.current)||void 0===e?void 0:e.focus)||void 0===a||a.call(e),R(),null==$||$())}),[V,R=j.clearValue,$]),x=o.createElement(p,{icon:L,className:c.icon,iconType:"font",iconSize:"small"===T?"16px":"20px"}),y=o.createElement(u,{className:a(c.icon,e({},c.empty,!E)),icon:z,ariaLabel:w,onClick:g,size:"small"===T?"xs":"small","data-testid":i(l.CLEAN_SEARCH_BUTTON,te)}),B=o.createElement(o.Fragment,null,K&&o.createElement(f,{size:"small"===T?"xs":20,color:"secondary",wrapperClassName:a(e({},c.loader,!E&&!H))}),E&&!V&&y,!(_&&E)&&H),o.createElement(d,{ref:b,id:te,type:"search","data-testid":ne||i(l.SEARCH,te),className:a(c.searchWrapper,ae),inputClassName:c.search,value:E,renderLeft:x,renderRight:B,autoFocus:O,placeholder:D,disabled:V,onChange:N,onBlur:Z,onFocus:Y,onKeyDown:ee,autoComplete:U,size:T,wrapperRole:"search",inputRole:J?"combobox":void 0,"aria-label":W,"aria-busy":K,"aria-controls":oe?J:void 0,"aria-activedescendant":Q,"aria-haspopup":re,"aria-expanded":oe})}));export{C as default};
//# sourceMappingURL=Search.js.map
