import{slicedToArray as e,defineProperty as o}from"../../../_virtual/_rollupPluginBabelHelpers.js";import t,{forwardRef as r,useRef as a,useMemo as i,useCallback as s}from"react";import l from"classnames";import n from"../Icon/Icon.js";import c from"../../hooks/useMergeRef.js";import{getCSSVar as m}from"../../services/themes.js";import{ElementAllowedColor as d}from"../../utils/colors-vars-map.js";import{getElementColor as u}from"../../types/Colors.js";import p from"../Avatar/Avatar.js";import f from"../IconButton/IconButton.js";import v from"../Text/Text.js";import{getTestId as b,ComponentDefaultTestId as g}from"../../tests/testIds.js";import{AvatarType as j}from"../Avatar/AvatarConstants.js";import{withStaticProps as y}from"../../types/withStaticProps.js";import h from"../../hooks/useHover/useHover.js";import k from"../../hooks/useSetFocus/index.js";import C from"../../hooks/useClickableProps/useClickableProps.js";import x from"./Chips.module.scss.js";import N from"../../../icons/dist/react/CloseSmall.js";var S=y(r((function(r,d){var j=r.className,y=r.avatarClassName,S=r.iconClassName,A=r.id,T=r.label,E=void 0===T?"":T,w=r.leftIcon,B=void 0===w?null:w,I=r.rightIcon,P=void 0===I?null:I,z=r.leftAvatar,H=void 0===z?null:z,O=r.rightAvatar,R=void 0===O?null:O,D=r.disabled,F=void 0!==D&&D,L=r.readOnly,M=void 0!==L&&L,_=r.allowTextSelection,U=void 0!==_&&_,q=r.color,G=void 0===q?"primary":q,J=r.iconSize,K=void 0===J?18:J,Q=r.onDelete,V=void 0===Q?function(e,o){}:Q,W=r.onMouseDown,X=r.onClick,Y=r.noAnimation,Z=void 0===Y||Y,$=r.ariaLabel,ee=r.disableClickableBehavior,oe=void 0!==ee&&ee,te=r.leftAvatarType,re=void 0===te?"img":te,ae=r.rightAvatarType,ie=void 0===ae?"img":ae,se=r.showBorder,le=void 0!==se&&se,ne=r.leftRenderer,ce=r.rightRenderer,me=r.closeButtonAriaLabel,de=void 0===me?"Remove":me,ue=r["data-testid"]||b(g.CHIP,A),pe=!(!X&&!W||oe),fe=!M&&!F,ve=$||"string"==typeof E&&E||"",be=a(null),ge=a(null),je=h(),ye=e(je,2),he=ye[0],ke=ye[1],Ce=k({ref:ge}).isFocused,xe=c(d,ge,he),Ne=l(x.chips,j,o(o(o(o({},x.disabled,F),x.noAnimation,Z),x.withUserSelect,U),x.border,le)),Se=l(x.clickable,Ne,o(o({},x.disabled,F),x.disableTextSelection,!U)),Ae=i((function(){return{backgroundColor:F?m("disabled-background-color"):pe&&(ke||Ce)?u(G,!0,!0):u(G,!0)}}),[F,pe,ke,Ce,G]),Te=s((function(e){e.stopPropagation(),V&&V(A,e)}),[A,V]),Ee=s((function(e){void 0!==X&&e.target!==be.current&&(e.preventDefault(),X(e))}),[X]),we=C({onClick:Ee,onMouseDown:W,disabled:F,id:A,"data-testid":ue,ariaLabel:ve,ariaHidden:!1,ariaHasPopup:!1,ariaExpanded:!1},xe),Be=pe?Object.assign(Object.assign({},we),{ref:we.ref,className:Se,style:Ae}):{className:Ne,"aria-label":ve,style:Ae,ref:xe,onClick:Ee,onMouseDown:W,id:A,"data-testid":ue},Ie="text"===re?{text:H}:{src:H},Pe="text"===re?{text:R}:{src:R};return t.createElement("div",Object.assign({},Be),H?t.createElement(p,Object.assign({withoutBorder:!0,className:l(x.avatar,x.left,y),customSize:18,type:re,key:A},Ie)):null,B?t.createElement(n,{className:l(x.icon,x.left,S),iconType:"font",icon:B,iconSize:K,ignoreFocusStyle:!0}):null,ne&&t.createElement("div",{className:l(x.customRenderer,x.left)},ne),t.createElement(v,{type:"text2",className:x.label},E),P?t.createElement(n,{className:l(x.icon,x.right,S),iconType:"font",icon:P,iconSize:K,ignoreFocusStyle:!0}):null,R?t.createElement(p,Object.assign({withoutBorder:!0,className:l(x.avatar,x.right,y),customSize:18,type:ie,key:A},Pe)):null,ce&&t.createElement("div",{className:l(x.customRenderer,x.right)},ce),fe&&t.createElement(f,{size:"xxs",color:"on-primary-color",className:l(x.icon,x.close),ariaLabel:de,hideTooltip:!0,icon:N,onClick:Te,"data-testid":"".concat(ue,"-close"),ref:be}))})),{colors:d,avatarTypes:j});export{S as default};
//# sourceMappingURL=Chips.js.map
