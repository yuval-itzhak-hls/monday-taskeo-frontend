{"version":3,"file":"index.js","sources":["../../../../../src/hooks/useClickOutside/index.ts"],"sourcesContent":["import { useCallback, useRef, RefObject } from \"react\";\nimport useEventListener from \"../useEventListener\";\nimport { GenericEventCallback } from \"../../types/events\";\nimport { isClient } from \"../../utils/ssr-utils\";\n\nexport default function useClickOutside({\n  ref,\n  callback,\n  ignoreClasses,\n  eventName = \"click\"\n}: {\n  ref: RefObject<HTMLElement>;\n  callback: GenericEventCallback;\n  ignoreClasses?: string[];\n  eventName?: keyof HTMLElementEventMap | string;\n}) {\n  const onClickOutsideListener = useCallback(\n    (event: MouseEvent) => {\n      if (!ref || !ref.current || ref.current.contains(event.target as Node)) {\n        return;\n      }\n\n      const shouldIgnoreClasses = ignoreClasses && event.target instanceof HTMLElement;\n      if (shouldIgnoreClasses && event.target.closest(ignoreClasses.join(\",\"))) {\n        return;\n      }\n\n      callback(event);\n    },\n\n    [ref, callback, ignoreClasses]\n  );\n\n  const documentRef = useRef(isClient() ? document.body : null);\n\n  useEventListener({\n    eventName,\n    ref: documentRef,\n    callback: onClickOutsideListener,\n    capture: true\n  });\n\n  useEventListener({\n    eventName: \"touchend\",\n    ref: documentRef,\n    callback: onClickOutsideListener,\n    capture: true\n  });\n}\n"],"names":["useClickOutside","_ref","ref","callback","ignoreClasses","_ref$eventName","eventName","onClickOutsideListener","useCallback","event","current","contains","target","HTMLElement","closest","join","documentRef","useRef","isClient","document","body","useEventListener","capture"],"mappings":"gJAKwB,SAAAA,EAAeC,GAUtC,IATCC,EAAGD,EAAHC,IACAC,EAAQF,EAARE,SACAC,EAAaH,EAAbG,cAAaC,EAAAJ,EACbK,UAAAA,OAAY,IAAHD,EAAG,QAAOA,EAObE,EAAyBC,GAC7B,SAACC,GACMP,GAAQA,EAAIQ,UAAWR,EAAIQ,QAAQC,SAASF,EAAMG,UAI3BR,GAAiBK,EAAMG,kBAAkBC,aAC1CJ,EAAMG,OAAOE,QAAQV,EAAcW,KAAK,OAInEZ,EAASM,GACV,GAED,CAACP,EAAKC,EAAUC,IAGZY,EAAcC,EAAOC,IAAaC,SAASC,KAAO,MAExDC,EAAiB,CACff,UAAAA,EACAJ,IAAKc,EACLb,SAAUI,EACVe,SAAS,IAGXD,EAAiB,CACff,UAAW,WACXJ,IAAKc,EACLb,SAAUI,EACVe,SAAS,GAEb"}